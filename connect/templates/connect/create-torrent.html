{% extends "connect/layout.html" %}

{% load static %}

{% block extra_js %}
<script src="{% static 'connect/js/create-torrent.js' %}"></script>
{% endblock %}

{% block body %}

<h1>Create Torrent</h1>

{% if peer_directory %}

<!-- Form to input file -->
<form id="torrent-form" method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <label for="file-input">Choose a file:</label>
    <input type="file" id="file-input" name="file" required><br><br>
    <button type="submit" class="btn btn-primary">Create Torrent</button>
</form>

<div id="status" style="display:none;">
    <p id="status-message"></p>
</div>

{% else %}
<div>
    Click <a href="{% url 'index' %}" class="btn btn-primary">here</a> to set information first.
</div>
{% endif %}

{% endblock %}